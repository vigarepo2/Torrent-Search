<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WaveBay - The Pirate Bay Search</title>
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Outfit:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            /* Colors */
            --primary: #3b82f6;
            --primary-dark: #2563eb;
            --primary-light: #60a5fa;
            --secondary: #10b981;
            --dark: #0f172a;
            --light: #f1f5f9;
            --gray: #64748b;
            --danger: #ef4444;
            --warning: #f59e0b;
            --surface: #1e293b;
            --surface-light: #334155;
            
            /* Animation speeds */
            --speed-fast: 0.2s;
            --speed-normal: 0.3s;
            --speed-slow: 0.5s;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--dark);
            color: var(--light);
            line-height: 1.6;
            overflow-x: hidden;
        }

        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 1.5rem;
        }

        /* Header styles */
        header {
            position: relative;
            padding: 7rem 0 10rem;
            overflow: hidden;
            background: linear-gradient(to bottom, #0f172a, #1e293b);
        }

        .header-waves {
            position: absolute;
            bottom: -10px;
            left: 0;
            width: 100%;
            height: 80px;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1440 320'%3E%3Cpath fill='%23f1f5f9' fill-opacity='0.05' d='M0,288L48,272C96,256,192,224,288,197.3C384,171,480,149,576,165.3C672,181,768,235,864,250.7C960,267,1056,245,1152,208C1248,171,1344,117,1392,90.7L1440,64L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z'%3E%3C/path%3E%3C/svg%3E");
            background-size: cover;
            animation: waveAnim 10s ease-in-out infinite alternate;
        }

        @keyframes waveAnim {
            0% {
                transform: translateY(0);
            }
            100% {
                transform: translateY(10px);
            }
        }

        .logo {
            font-family: 'Outfit', sans-serif;
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            color: var(--light);
        }

        .logo span {
            color: var(--primary);
        }

        .logo-icon {
            margin-right: 1rem;
            animation: float 3s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% {
                transform: translateY(0);
            }
            50% {
                transform: translateY(-10px);
            }
        }

        .header-content {
            text-align: center;
            position: relative;
            z-index: 2;
        }

        .subtitle {
            font-size: 1.2rem;
            max-width: 600px;
            margin: 0 auto 3rem;
            color: rgba(241, 245, 249, 0.8);
        }

        /* Search form */
        .search-form {
            position: relative;
            max-width: 800px;
            margin: 0 auto;
        }

        .search-inner {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            background: rgba(30, 41, 59, 0.7);
            backdrop-filter: blur(10px);
            border-radius: 1rem;
            border: 1px solid rgba(255, 255, 255, 0.1);
            padding: 1.5rem;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        @media (min-width: 768px) {
            .search-inner {
                flex-direction: row;
            }
        }

        .search-input-wrapper {
            flex: 1;
            position: relative;
        }

        .search-input {
            width: 100%;
            background: var(--surface);
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: var(--light);
            font-size: 1rem;
            padding: 1rem 1rem 1rem 3rem;
            border-radius: 0.75rem;
            transition: all var(--speed-normal);
        }

        .search-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.3);
        }

        .search-icon {
            position: absolute;
            left: 1rem;
            top: 50%;
            transform: translateY(-50%);
            color: var(--gray);
            pointer-events: none;
        }

        .search-select {
            background: var(--surface);
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: var(--light);
            font-size: 1rem;
            padding: 1rem;
            border-radius: 0.75rem;
            min-width: 150px;
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%2364748b' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 1rem center;
            background-size: 1em;
        }

        .search-select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.3);
        }

        .search-button {
            background: linear-gradient(to right, var(--primary), var(--primary-dark));
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 0.75rem;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: all var(--speed-fast);
            position: relative;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }

        .search-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(37, 99, 235, 0.3);
        }

        .search-button::after {
            content: "";
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: -100%;
            background: linear-gradient(
                90deg,
                transparent,
                rgba(255, 255, 255, 0.2),
                transparent
            );
            transition: all 0.6s;
        }

        .search-button:hover::after {
            left: 100%;
        }

        /* Results area */
        .results-section {
            padding: 3rem 0;
            min-height: 500px;
        }

        .results-header {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            margin-bottom: 2rem;
        }

        @media (min-width: 768px) {
            .results-header {
                flex-direction: row;
                justify-content: space-between;
                align-items: center;
            }
        }

        .results-title {
            font-family: 'Outfit', sans-serif;
            font-size: 1.75rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .results-count {
            font-size: 0.875rem;
            font-weight: 600;
            padding: 0.35rem 1rem;
            border-radius: 2rem;
            background: rgba(59, 130, 246, 0.1);
            color: var(--primary-light);
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }

        .results-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-bottom: 3rem;
        }

        /* Torrent card */
        .torrent-card {
            background: var(--surface);
            border-radius: 1rem;
            overflow: hidden;
            transition: all var(--speed-normal);
            border: 1px solid rgba(255, 255, 255, 0.05);
            position: relative;
            transform: translateY(20px);
            opacity: 0;
        }

        .torrent-card.visible {
            transform: translateY(0);
            opacity: 1;
        }

        .torrent-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .card-header {
            padding: 1.5rem;
            position: relative;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        .torrent-category {
            position: absolute;
            top: 1.5rem;
            right: 1.5rem;
            padding: 0.35rem 0.75rem;
            font-size: 0.75rem;
            font-weight: 600;
            border-radius: 2rem;
            display: flex;
            align-items: center;
            gap: 0.35rem;
        }

        .category-Music {
            background: rgba(16, 185, 129, 0.1);
            color: #34d399;
        }

        .category-Movies {
            background: rgba(239, 68, 68, 0.1);
            color: #f87171;
        }

        .category-Games {
            background: rgba(245, 158, 11, 0.1);
            color: #fbbf24;
        }

        .category-Software {
            background: rgba(139, 92, 246, 0.1);
            color: #a78bfa;
        }

        .category-Other, .category-All {
            background: rgba(100, 116, 139, 0.1);
            color: #94a3b8;
        }

        .torrent-title {
            font-weight: 600;
            font-size: 1.125rem;
            margin-bottom: 0.5rem;
            line-height: 1.4;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .card-body {
            padding: 1.5rem;
            display: flex;
            flex-direction: column;
            gap: 1.25rem;
        }

        .torrent-info {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 0.75rem;
        }

        .info-item {
            background: rgba(255, 255, 255, 0.03);
            padding: 0.75rem;
            border-radius: 0.75rem;
            text-align: center;
            transition: all var(--speed-fast);
        }

        .info-item:hover {
            background: rgba(255, 255, 255, 0.05);
            transform: translateY(-3px);
        }

        .info-label {
            font-size: 0.75rem;
            color: var(--gray);
            margin-bottom: 0.25rem;
            text-transform: uppercase;
        }

        .info-value {
            font-weight: 700;
            font-size: 1.125rem;
        }

        .seeds {
            color: var(--secondary);
        }

        .leeches {
            color: var(--danger);
        }

        .size {
            color: var(--primary-light);
        }

        .torrent-date {
            color: var(--gray);
            font-size: 0.875rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .torrent-actions {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 0.75rem;
        }

        .action-button {
            padding: 0.75rem;
            border-radius: 0.75rem;
            font-size: 0.875rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            cursor: pointer;
            transition: all var(--speed-fast);
            text-decoration: none;
        }

        .details-button {
            background: rgba(255, 255, 255, 0.05);
            color: var(--light);
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .details-button:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .magnet-button {
            background: linear-gradient(to right, var(--primary), var(--primary-dark));
            color: white;
            border: none;
            position: relative;
            overflow: hidden;
        }

        .magnet-button::after {
            content: "";
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: -100%;
            background: linear-gradient(
                90deg,
                transparent,
                rgba(255, 255, 255, 0.2),
                transparent
            );
            transition: all 0.6s;
        }

        .magnet-button:hover::after {
            left: 100%;
        }

        /* Loader */
        .loader {
            display: none;
            justify-content: center;
            margin: 3rem 0;
        }

        .loader-inner {
            width: 50px;
            height: 50px;
            border: 4px solid rgba(59, 130, 246, 0.1);
            border-left-color: var(--primary);
            border-radius: 50%;
            animation: loader-spin 1s linear infinite;
        }

        @keyframes loader-spin {
            0% {
                transform: rotate(0deg);
            }
            100% {
                transform: rotate(360deg);
            }
        }

        /* No results */
        .no-results {
            text-align: center;
            padding: 3rem 0;
            display: none;
        }

        .no-results-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            color: var(--gray);
            opacity: 0.5;
        }

        .no-results-title {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .no-results-text {
            color: var(--gray);
            max-width: 500px;
            margin: 0 auto;
        }

        /* Pagination */
        .pagination {
            display: flex;
            justify-content: center;
            gap: 0.5rem;
            flex-wrap: wrap;
        }

        .page-button {
            min-width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--surface);
            color: var(--light);
            border: 1px solid rgba(255, 255, 255, 0.05);
            border-radius: 0.5rem;
            font-weight: 500;
            cursor: pointer;
            transition: all var(--speed-fast);
        }

        .page-button:hover:not(.active, .disabled) {
            background: var(--surface-light);
            transform: translateY(-2px);
        }

        .page-button.active {
            background: var(--primary);
            border-color: var(--primary);
        }

        .page-button.disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* SVG Icons */
        .icon {
            width: 1em;
            height: 1em;
            stroke-width: 2;
            stroke: currentColor;
            fill: none;
            stroke-linecap: round;
            stroke-linejoin: round;
        }

        @media (max-width: 768px) {
            .results-header {
                flex-direction: column;
                align-items: flex-start;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="header-waves"></div>
        <div class="container">
            <div class="header-content">
                <h1 class="logo">
                    <span class="logo-icon">
                        <svg class="icon" width="42" height="42" viewBox="0 0 24 24">
                            <path d="M13 2L3 14h9l-1 8L21 10h-9l1-8z"></path>
                        </svg>
                    </span>
                    Wave<span>Bay</span>
                </h1>
                <p class="subtitle">Search for torrents through The Pirate Bay with a beautiful, modern interface</p>
                
                <div class="search-form">
                    <form id="searchForm" class="search-inner">
                        <div class="search-input-wrapper">
                            <input type="text" id="searchInput" class="search-input" placeholder="Search for movies, music, games..." required>
                            <svg class="icon search-icon" viewBox="0 0 24 24">
                                <circle cx="11" cy="11" r="8"></circle>
                                <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                            </svg>
                        </div>
                        <select id="categorySelect" class="search-select">
                            <option value="all">All Categories</option>
                            <option value="movies">Movies</option>
                            <option value="music">Music</option>
                            <option value="games">Games</option>
                            <option value="software">Software</option>
                        </select>
                        <button type="submit" class="search-button">
                            <svg class="icon" viewBox="0 0 24 24">
                                <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
                            </svg>
                            Search
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </header>

    <main>
        <section class="results-section">
            <div class="container">
                <!-- Loader -->
                <div id="loader" class="loader">
                    <div class="loader-inner"></div>
                </div>

                <!-- No Results -->
                <div id="noResults" class="no-results">
                    <div class="no-results-icon">
                        <svg class="icon" viewBox="0 0 24 24">
                            <circle cx="12" cy="12" r="10"></circle>
                            <line x1="12" y1="8" x2="12" y2="12"></line>
                            <line x1="12" y1="16" x2="12.01" y2="16"></line>
                        </svg>
                    </div>
                    <h3 class="no-results-title">No results found</h3>
                    <p class="no-results-text">Try different keywords or another category</p>
                </div>

                <!-- Results -->
                <div id="results" style="display: none;">
                    <div class="results-header">
                        <h2 class="results-title">
                            <svg class="icon" viewBox="0 0 24 24">
                                <line x1="8" y1="6" x2="21" y2="6"></line>
                                <line x1="8" y1="12" x2="21" y2="12"></line>
                                <line x1="8" y1="18" x2="21" y2="18"></line>
                                <line x1="3" y1="6" x2="3.01" y2="6"></line>
                                <line x1="3" y1="12" x2="3.01" y2="12"></line>
                                <line x1="3" y1="18" x2="3.01" y2="18"></line>
                            </svg>
                            Results
                        </h2>
                        <span class="results-count" id="resultsCount">
                            <svg class="icon" viewBox="0 0 24 24">
                                <path d="M20.24 12.24a6 6 0 00-8.49-8.49L5 10.5V19h8.5z"></path>
                                <line x1="16" y1="8" x2="2" y2="22"></line>
                                <line x1="17.5" y1="15" x2="9" y2="15"></line>
                            </svg>
                            <span id="resultCountText">0 torrents found</span>
                        </span>
                    </div>

                    <div id="resultsGrid" class="results-grid">
                        <!-- Results will be populated here -->
                    </div>

                    <div id="pagination" class="pagination">
                        <!-- Pagination will be populated here -->
                    </div>
                </div>
            </div>
        </section>
    </main>

    <script>
        // DOM Elements
        const searchForm = document.getElementById('searchForm');
        const searchInput = document.getElementById('searchInput');
        const categorySelect = document.getElementById('categorySelect');
        const loader = document.getElementById('loader');
        const noResults = document.getElementById('noResults');
        const results = document.getElementById('results');
        const resultsGrid = document.getElementById('resultsGrid');
        const resultCountText = document.getElementById('resultCountText');
        const pagination = document.getElementById('pagination');

        // Configuration
        const API_URL = '/api/search';
        const RESULTS_PER_PAGE = 6;

        // Variables
        let allResults = [];
        let currentPage = 1;

        // Event Listeners
        searchForm.addEventListener('submit', handleSearch);

        // Initial focus on search input
        window.addEventListener('load', () => {
            searchInput.focus();
        });

        // Functions
        async function handleSearch(e) {
            e.preventDefault();

            const query = searchInput.value.trim();
            const category = categorySelect.value;

            if (!query) return;

            // Show loader
            loader.style.display = 'flex';
            results.style.display = 'none';
            noResults.style.display = 'none';

            try {
                // Build URL with query parameters
                const url = `${API_URL}?q=${encodeURIComponent(query)}&category=${category}`;
                
                // Fetch results
                const response = await fetch(url);
                const data = await response.json();
                
                // Save results and display first page
                allResults = data;
                currentPage = 1;

                // Update UI based on results
                if (allResults.length > 0) {
                    displayResults(allResults, currentPage);
                    results.style.display = 'block';
                } else {
                    noResults.style.display = 'block';
                }
            } catch (error) {
                console.error('Error fetching data:', error);
                noResults.style.display = 'block';
            } finally {
                loader.style.display = 'none';
            }
        }

        function displayResults(results, page) {
            // Calculate pagination
            const totalPages = Math.ceil(results.length / RESULTS_PER_PAGE);
            const startIndex = (page - 1) * RESULTS_PER_PAGE;
            const endIndex = Math.min(startIndex + RESULTS_PER_PAGE, results.length);
            const pageResults = results.slice(startIndex, endIndex);

            // Update results count
            resultCountText.textContent = `${results.length} torrents found`;

            // Clear previous results
            resultsGrid.innerHTML = '';

            // Add results with animation
            pageResults.forEach((result, index) => {
                const card = createResultCard(result, index);
                resultsGrid.appendChild(card);
                
                // Trigger animation after a small delay
                setTimeout(() => {
                    card.classList.add('visible');
                }, 50 * index);
            });

            // Create pagination if needed
            createPagination(results.length, page);
        }

        function createResultCard(result, index) {
            const card = document.createElement('div');
            card.className = 'torrent-card';
            
            // Format date
            const date = new Date(parseInt(result.pub_date) * 1000);
            const formattedDate = formatDate(date);
            
            card.innerHTML = `
                <div class="card-header">
                    <span class="torrent-category category-${result.category}">
                        <svg class="icon" viewBox="0 0 24 24">
                            ${getCategoryIcon(result.category)}
                        </svg>
                        ${result.category}
                    </span>
                    <h3 class="torrent-title">${result.name}</h3>
                </div>
                <div class="card-body">
                    <div class="torrent-info">
                        <div class="info-item">
                            <div class="info-label">Seeds</div>
                            <div class="info-value seeds">${result.seeds}</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">Leeches</div>
                            <div class="info-value leeches">${result.leech}</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">Size</div>
                            <div class="info-value size">${result.size}</div>
                        </div>
                    </div>
                    <div class="torrent-date">
                        <svg class="icon" viewBox="0 0 24 24">
                            <circle cx="12" cy="12" r="10" />
                            <polyline points="12 6 12 12 16 14" />
                        </svg>
                        ${formattedDate}
                    </div>
                    <div class="torrent-actions">
                        <a href="${result.desc_link}" target="_blank" class="action-button details-button">
                            <svg class="icon" viewBox="0 0 24 24">
                                <circle cx="12" cy="12" r="10"></circle>
                                <line x1="12" y1="16" x2="12" y2="12"></line>
                                <line x1="12" y1="8" x2="12.01" y2="8"></line>
                            </svg>
                            Details
                        </a>
                        <a href="${result.link}" class="action-button magnet-button">
                            <svg class="icon" viewBox="0 0 24 24">
                                <path d="M12 2l2 5h5l-4 4 2 5-5-3-5 3 2-5-4-4h5z"></path>
                            </svg>
                            Magnet
                        </a>
                    </div>
                </div>
            `;
            
            return card;
        }

        function createPagination(totalResults, currentPage) {
            pagination.innerHTML = '';
            
            const totalPages = Math.ceil(totalResults / RESULTS_PER_PAGE);
            
            if (totalPages <= 1) {
                return;
            }
            
            // Previous button
            const prevButton = document.createElement('button');
            prevButton.className = `page-button ${currentPage === 1 ? 'disabled' : ''}`;
            prevButton.innerHTML = `
                <svg class="icon" viewBox="0 0 24 24">
                    <polyline points="15 18 9 12 15 6"></polyline>
                </svg>
            `;
            prevButton.disabled = currentPage === 1;
            prevButton.addEventListener('click', () => {
                if (currentPage > 1) {
                    displayResults(allResults, currentPage - 1);
                }
            });
            pagination.appendChild(prevButton);
            
            // Calculate which page buttons to show
            let startPage = Math.max(1, currentPage - 2);
            let endPage = Math.min(totalPages, startPage + 4);
            
            if (endPage - startPage < 4) {
                startPage = Math.max(1, endPage - 4);
            }
            
            // First page button if needed
            if (startPage > 1) {
                addPageButton(1);
                
                if (startPage > 2) {
                    const ellipsis = document.createElement('span');
                    ellipsis.className = 'page-button disabled';
                    ellipsis.textContent = '...';
                    pagination.appendChild(ellipsis);
                }
            }
            
            // Page buttons
            for (let i = startPage; i <= endPage; i++) {
                addPageButton(i);
            }
            
            // Last page button if needed
            if (endPage < totalPages) {
                if (endPage < totalPages - 1) {
                    const ellipsis = document.createElement('span');
                    ellipsis.className = 'page-button disabled';
                    ellipsis.textContent = '...';
                    pagination.appendChild(ellipsis);
                }
                
                addPageButton(totalPages);
            }
            
            // Next button
            const nextButton = document.createElement('button');
            nextButton.className = `page-button ${currentPage === totalPages ? 'disabled' : ''}`;
            nextButton.innerHTML = `
                <svg class="icon" viewBox="0 0 24 24">
                    <polyline points="9 18 15 12 9 6"></polyline>
                </svg>
            `;
            nextButton.disabled = currentPage === totalPages;
            nextButton.addEventListener('click', () => {
                if (currentPage < totalPages) {
                    displayResults(allResults, currentPage + 1);
                }
            });
            pagination.appendChild(nextButton);
            
            function addPageButton(pageNum) {
                const button = document.createElement('button');
                button.className = `page-button ${pageNum === currentPage ? 'active' : ''}`;
                button.textContent = pageNum;
                
                if (pageNum !== currentPage) {
                    button.addEventListener('click', () => {
                        displayResults(allResults, pageNum);
                    });
                }
                
                pagination.appendChild(button);
            }
        }

        function getCategoryIcon(category) {
            switch (category) {
                case 'Movies':
                    return `<path d="M19.82 2H4.18C2.97 2 2 2.97 2 4.18v15.64C2 21.03 2.97 22 4.18 22h15.64c1.21 0 2.18-.97 2.18-2.18V4.18C22 2.97 21.03 2 19.82 2zM7 2v20M17 2v20M2 12h20M2 7h5M2 17h5M17 17h5M17 7h5"></path>`;
                case 'Music':
                    return `<path d="M9 18V5l12-2v13"></path><circle cx="6" cy="18" r="3"></circle><circle cx="18" cy="16" r="3"></circle>`;
                case 'Games':
                    return `<rect x="2" y="4" width="20" height="16" rx="2"></rect><path d="M9 12h6"></path><path d="M12 9v6"></path>`;
                case 'Software':
                    return `<rect x="2" y="3" width="20" height="14" rx="2" ry="2"></rect><line x1="8" y1="21" x2="16" y2="21"></line><line x1="12" y1="17" x2="12" y2="21"></line>`;
                default:
                    return `<path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline>`;
            }
        }

        function formatDate(date) {
            const now = new Date();
            const diffTime = Math.abs(now - date);
            const diffDays = Math.floor(diffTime / (1000 * 60 * 60 * 24));
            
            if (diffDays < 1) {
                return 'Today';
            } else if (diffDays === 1) {
                return 'Yesterday';
            } else if (diffDays < 7) {
                return `${diffDays} days ago`;
            } else {
                return date.toLocaleDateString('en-US', {
                    year: 'numeric',
                    month: 'short',
                    day: 'numeric'
                });
            }
        }
    </script>
</body>
  </html>
